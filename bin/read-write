#!/usr/bin/env ruby
# Copyright (c) Cognitect, Inc.
# All rights reserved.

$LOAD_PATH << 'lib'
require 'transit'

transport = ARGV[0] || "json"

r = Transit::Reader.new(transport.gsub("-","_").to_sym)
w = Transit::Writer.new(transport.to_sym, STDOUT)
r.read(STDIN) {|o| w.write o}
